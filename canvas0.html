<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        canvas {
            border: 1px solid grey;
        }
        body{
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>

    <canvas width="620" height="620"></canvas>

    <script>

        var can = document.querySelector('canvas');
        var context = can.getContext('2d');

        var init = {x: 0, y: 0};

        can.addEventListener('mousedown', function (event) {
            init.x = event.clientX;
            init.y = event.clientY;
            this.addEventListener('mousemove', fx);
        });

        function fx(event) {
            // mousemovehandler
            var width = Math.abs(event.clientX - init.x);
            var height = Math.abs(event.clientY - init.y);

            context.clearRect(0,0,620,620);

            if(event.clientX < init.x){
                context.fillRect(event.clientX,init.y,width/2, height);
            }
            else context.fillRect(init.x,init.y,width, height);
            if(event.clientY < init.y){
                context.fillRect(init.x,event.clientY,width, height/2);
            }
            else context.fillRect(init.x,init.y,width, height);
        }

        can.addEventListener('mouseup', function () {
            init = {x: 0, y: 0};

            // register a mousemovehandler --> fx
            this.removeEventListener('mousemove', fx);
        });


    </script>

</body>
</html>